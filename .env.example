# ================================
# DATABASE CONFIGURATION (MySQL)
# ================================
# Format: mysql://USER:PASSWORD@HOST:PORT/DATABASE
# Optimal settings untuk performa tinggi:
# - connection_limit: jumlah koneksi ke database (default 10)
# - pool_timeout: timeout menunggu koneksi (default 10 detik)
DATABASE_URL="mysql://username:password@localhost:3306/smart_e_arsip?connection_limit=10&pool_timeout=10&socket_timeout=30"

# MySQL Optimization Tips:
# 1. Gunakan connection pooling (sudah diatur di Prisma)
# 2. Set innodb_buffer_pool_size = 70-80% dari RAM server
# 3. Enable query cache untuk query yang sering dipakai
# 4. Gunakan indexes pada kolom yang sering di-query

# ================================
# REDIS CONFIGURATION
# ================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_MAX_CONNECTIONS=10
CACHE_TTL=300

# Redis Optimization Tips:
# 1. Gunakan Redis 7.x untuk performa terbaik
# 2. Set maxmemory-policy = allkeys-lru
# 3. Enable RDB + AOF persistence untuk data safety
# 4. Gunakan redis cluster untuk skalabilitas tinggi

# ================================
# APPLICATION CONFIGURATION
# ================================
APP_PORT=3006
NODE_ENV=production
APP_NAME="Smart E-Arsip API"

# Frontend URLs (pisahkan dengan koma untuk multiple origins)
FRONTEND_URLS=http://localhost:3003,https://yourdomain.com

# ================================
# JWT AUTHENTICATION
# ================================
# Generate strong secret: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production-min-32-chars
JWT_EXPIRES_IN=7d
JWT_REFRESH_SECRET=your-super-secret-refresh-key-change-this-in-production-min-32-chars
JWT_REFRESH_EXPIRES_IN=30d

# ================================
# SECURITY SETTINGS
# ================================
# Bcrypt rounds (10-12 recommended, higher = more secure but slower)
BCRYPT_ROUNDS=10

# Rate limiting
RATE_LIMIT_TTL=60
RATE_LIMIT_MAX=100

# ================================
# FILE UPLOAD CONFIGURATION
# ================================
MAX_FILE_SIZE=10485760
UPLOAD_PATH=./uploads
ALLOWED_FILE_TYPES=pdf,doc,docx,jpg,jpeg,png

# ================================
# LOGGING CONFIGURATION
# ================================
LOG_LEVEL=info
LOG_MAX_FILES=14d
LOG_MAX_SIZE=20m

# ================================
# PERFORMANCE TUNING
# ================================
# Request timeout (milliseconds)
REQUEST_TIMEOUT=30000

# Compression level (0-9, 6 is balanced)
COMPRESSION_LEVEL=6

# Database query timeout (seconds)
DB_QUERY_TIMEOUT=30

# ================================
# MONITORING & OBSERVABILITY
# ================================
# Enable detailed logging (true/false)
ENABLE_QUERY_LOGGING=false
ENABLE_REQUEST_LOGGING=true

# APM/Monitoring service (optional)
# SENTRY_DSN=
# NEW_RELIC_LICENSE_KEY=
